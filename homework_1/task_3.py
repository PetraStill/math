"""
Задача 3. Аналіз виробництва
Три моделі дронів:
    x_1 – Розвідник
    x_2 – Камікадзе
    x_3 – Вантажний
"""
import numpy as np

# Ініціалізуємо матрицю дронів
A = np.array([
    [4, 4, 6],  # мотори
    [1, 1, 2],  # контролери
    [1, 2, 4]   # акумулятори
], dtype=float)

# Ініціалізуємо вектор b з витратами
b = np.array([460, 130, 240], dtype=float)

# Обчислюємо визначник матриці
det_A = np.linalg.det(A)
print(f"\nВизначник det(A) = {det_A:.4f}")

# Визначаємо кількість зібраних дронів кожного типу
if abs(det_A) < 1e-10:
    print("Система не має єдиного розв'язку (det(A) ≈ 0).")

else:
    # Вираховуємо к-сть дронів
    x_solve = np.linalg.solve(A, b)
    print(f"\nВектор x (кількість дронів) = {x_solve}")

    # Перевіряємо: A @ x_solve має дорівнювати b
    b_check = A @ x_solve
    print("\nПеревірка A @ x_solve =", b_check)
    print("Чи збігається з b?", np.allclose(b_check, b))

    # Виводимо по типах
    print("\nКількість зібраних дронів:")
    print("Розвідник (x1):", x_solve[0])
    print("Камікадзе (x2):", x_solve[1])
    print("Вантажний (x3):", x_solve[2])
